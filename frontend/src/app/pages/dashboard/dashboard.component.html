<div class="container py-5">
    <!-- Key Statistics Row -->
    <div class="row mb-5 text-center">
        <!-- Total Certificates Issued -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-body">
                    <h6 class="card-title text-muted">Total Certificates Issued</h6>
                    <h2 class="text-primary mb-0">{{ totalCertificates || 0 }}</h2>
                </div>
            </div>
        </div>

        <!-- Certificate Types -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-body">
                    <h6 class="card-title text-muted">Certificate Types</h6>
                    <h2 class="text-primary mb-0">{{ certificateTypeCount || 0 }}</h2>
                </div>
            </div>
        </div>

        <!-- Monthly Issuance -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-body">
                    <h6 class="card-title text-muted">Monthly Issuance</h6>
                    <h2 class="text-primary mb-0">{{ monthlyIssuance || 0 }}</h2>
                </div>
            </div>
        </div>

        <!-- Pending Notifications -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-body">
                    <h6 class="card-title text-muted">Pending Notifications</h6>
                    <h2 class="text-primary mb-0">{{ pendingNotifications || 0 }}</h2>
                </div>
            </div>
        </div>
    </div>

    <!-- Analytics Section -->
    <div class="row">
        <!-- Certificates Issued Over Time -->
        <div class="col-lg-6 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-light">
                    <h5 class="text-primary font-weight-bold">Certificates Issued Over Time</h5>
                </div>
                <div class="card-body">
                    <apx-chart
                        *ngIf="certificatesIssuedChart"
                        [series]="certificatesIssuedChart.series"
                        [chart]="certificatesIssuedChart.chart"
                        [xaxis]="certificatesIssuedChart.xaxis"
                        [stroke]="certificatesIssuedChart.stroke"
                        [tooltip]="certificatesIssuedChart.tooltip"
                    ></apx-chart>
                </div>
            </div>
        </div>

        <!-- Certificate Type Distribution -->
        <div class="col-lg-6 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-light">
                    <h5 class="text-primary font-weight-bold">Certificate Type Distribution</h5>
                </div>
                <div class="card-body">
                    <apx-chart
                        *ngIf="certificateTypeChart"
                        [series]="certificateTypeChart.series"
                        [chart]="certificateTypeChart.chart"
                        [labels]="certificateTypeChart.labels"
                    ></apx-chart>
                </div>
            </div>
        </div>
    </div>

    <!-- Purpose Analysis -->
    <div class="row mb-4">
        <div class="col-lg-12">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-light">
                    <h5 class="text-primary font-weight-bold">Purpose of Certificate Issuance</h5>
                </div>
                <div class="card-body">
                    <apx-chart
                        *ngIf="purposeChart"
                        [series]="purposeChart.series"
                        [chart]="purposeChart.chart"
                        [xaxis]="purposeChart.xaxis"
                        [plotOptions]="purposeChart.plotOptions"
                    ></apx-chart>
                </div>
            </div>
        </div>
    </div>

    <!-- Predictive Analytics -->
    <div class="row mb-4">
        <div class="col-lg-12">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-light">
                    <h5 class="text-primary font-weight-bold">Forecasting Certificate Demand</h5>
                </div>
                <div class="card-body">
                    <apx-chart
                        *ngIf="forecastingChart"
                        [series]="forecastingChart.series"
                        [chart]="forecastingChart.chart"
                        [xaxis]="forecastingChart.xaxis"
                        [stroke]="forecastingChart.stroke"
                    ></apx-chart>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Notifications -->
    <div class="row mb-4">
        <div class="col-lg-12">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-light">
                    <h5 class="text-primary font-weight-bold">Resident Notifications</h5>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                       <li
                            class="list-group-item d-flex justify-content-between align-items-center"
                            *ngFor="let notification of notifications"
                        >
                            <span>{{ notification.residentName }}</span>
                            <span class="badge bg-success">{{ notification.status }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .chart-container {
        height: 300px;
        width: 100%;
    }

    .card-header {
        border-bottom: 1px solid #ddd;
    }

    .card-title {
        font-size: 0.95rem;
        font-weight: 600;
    }

    .text-primary {
        font-weight: bold;
    }

    .bg-light {
        background-color: #f9f9f9 !important;
    }

    .list-group-item {
        font-size: 0.9rem;
    }

    .badge {
        font-size: 0.8rem;
    }

    @media (max-width: 768px) {
        .chart-container {
            height: 250px;
        }

        .card-title {
            font-size: 0.85rem;
        }
    }
</style>
